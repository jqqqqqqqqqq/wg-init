# wg-init
a simple script to deploy mutliple p2p wiregurad on Debian (w/o installation part)

## Usage

Let's say we have two peers: Alice and Bob:

First: (On both side)

```bash
git clone https://github.com/jqqqqqqqqqq/wg-init.git /etc/wireguard
cd /etc/wiregurard
./wg-install.sh
./wg-init.sh init [config_name] [hostname]
```

For this specific example, let's modify the third line to:
(On Alice)

`./wg-init.sh init alice alice.example.com`

and:
(On Bob)

`./wg-init.sh init bob bob.example.com`

Then it will provide a line, auto save into an .add file:

(pubkeys are randomly generated, do not copy these lines)

`alice uQEpe4Eb/5cgrSfU1hmH34wnyL8B5tIjtyC9I5QTUDI= alice.example.com`

and

`bob dki3cELP0uBAL6KUMszQ5wt/sIixW8SUTPJdm2B0HEc= bob.example.com`

Second: (On peer side)

execute this line:

(On Alice)

`./wg-add-alice.sh init bob dki3cELP0uBAL6KUMszQ5wt/sIixW8SUTPJdm2B0HEc= bob.example.com 5050 5051 10.0.0.1 10.0.0.2`

(On Bob)

`./wg-add-bob.sh init alice uQEpe4Eb/5cgrSfU1hmH34wnyL8B5tIjtyC9I5QTUDI= alice.example.com 5051 5050 10.0.0.2 10.0.0.1`

Note: `wg-add-[config_name].sh` is generated by `wg-init.sh`.

Third:

Test ping each other.

## Other Usage

`./[script] deinit conf_name`

Both scripts support `deinit`, it removes files generated by the script.

`./wg-add-[config_name].sh start|stop conf_name`
`wg-add-[config_name].sh` also supports start and stop, it's just `ifup` and `ifdown`
